# Path to your oh-my-zsh installation.
MY_ZSH_ROOT=$HOME/.dotfiles/rc.d/zsh
export ZSH=$MY_ZSH_ROOT/oh-my-zsh

ZSH_THEME="jakeman"

ZSH_CUSTOM=$MY_ZSH_ROOT/custom

DEFAULT_USER="$USER"

plugins=(
  bazel
  docker
  git
  golang
  helm
  kubectl
)

#fpath=(/usr/local/share/zsh-completions $fpath)

alias dr='docker run --rm -t -i'

if [[ -d "$HOME/bin" ]] ; then
  export PATH="$HOME/bin:$PATH"
fi

if whence -p go &>/dev/null ; then
  export PATH="$(go env GOPATH)/bin:$PATH"
fi

if [[ -d "/usr/local/go/bin" ]] ; then
  export PATH="/usr/local/go/bin:$PATH"
fi

if [[ -d "$HOME/.jakeman/go/bin" ]] ; then
  export PATH="$HOME/.jakeman/go/bin:$PATH"
fi

alias pyactive='source venv/bin/activate'

if [[ -d "$HOME/.cargo/bin" ]] ; then
  export PATH="$HOME/.cargo/bin:$PATH"
fi

if [[ -d "/opt/homebrew/bin" ]] ; then
  export PATH="/opt/homebrew/bin:$PATH"
fi

if whence -p gh &>/dev/null ; then
  plugins+=(gh)
fi

if whence -p rg &>/dev/null ; then
  plugins+=(ripgrep)
fi

if whence -p fdfind &>/dev/null ; then
  plugins+=(fd)
fi

if whence -p fzf &>/dev/null ; then
  plugins+=(fzf)
fi

if [[ -d /opt/homebrew/opt/openjdk/bin ]] ; then
  export PATH="/opt/homebrew/opt/openjdk/bin:$PATH"
fi

source $ZSH/oh-my-zsh.sh

export EDITOR=`which vim`

# Enable completion for bazelisk
alias bazel=bazelisk
compdef bazelisk=bazel
